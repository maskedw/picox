# これは何？

省メモリの組み込み環境を想定した軽量汎用ライブラリです。

----------------------------------------------------------------------
# 特徴

マイコンプログラム開発ではドライバ操作が大きなウエイトを占めていますが、ありがた
いことに昨今では各ベンダが充実したデバイスドライバを提供してくれていることが多い
です。

その為、このライブラリではCPUや、OSの有無に依存しないが重要で小粒なルーチンを集
めています。

ベンダのライブラリとこのライブラリを組み合わせて、新規CPUでも手早くアプリケー
ションを構築することを目的としています。

想定ターゲットは、RAM 数KByte ~ 数十KByte、ROM 数十KByte ~ 数百KByte程度の小規模
なCPUです。

昨今では、Arduino, mbed, Raspberry Pi等、お手軽にプロトタイプを作れる環境が整っ
ていますが、これらのプラットフォームは、ハードウェア依存部分が多く含まれており、
お手軽に使えるのは、各コミュニティがめんどうな依存部分を提供してくれているからで
す。

このライブラリは汎用ですが、ハードウェア依存部分を一切含まないので目的が違いま
す。その分、このライブラリだけでは何もできないので玄人向けです。
使用者はそれなりに組込み開発経験があることを想定しています。

また、日本語ドキュメントのある低級なライブラリというのは、貴重だと思われるので低
級プログラムに興味のあるプログラマの学習にも最適です。

----------------------------------------------------------------------
# 動作条件

+ 1バイトは8bitであること
+ バイトオーダはビッグ or リトルエンディアンであること
+ 処理系はANSI C99に対応していること
+ CPUは16,32,64bitのいづれかであること

※ 8bitCPUでも現行バージョンでは動作可能だと思いますが、今後の開発で明確に動作対
   象外とする可能性があります。

C99のフル機能に対応している必要はありません。可変長配列等のほとんどサポートされ
ていない機能は使用していません。

stdint.h, stdbool.h等のtypedef定義のヘッダのと、可変長引数マクロ、snprintf()等の
一部C99ライブラリ関数を使用しています。

恐らく現行の大半のコンパイラで問題なくビルド可能なはずです。

----------------------------------------------------------------------
# 依存ライブラリ

+ 標準Cライブラリ(一部C99の関数を使用)

----------------------------------------------------------------------
# 移植及び使用方法

基本的にはpicox以下のソースコードをまるごとコピーし、インクルードパスを通すだけ
で、簡単にビルドできるはずです。
使用しない外部ライブラリはビルドから除外しておいた方がいいでしょう。

各モジュールの使用方法はヘッダファイルを参照してください。
適切なグルーコードを用意してやる必要があるモジュールもありますので、期待どおり動
作しない場合は、ヘッダファイルをよく読んでみてください。

----------------------------------------------------------------------
# テスト環境

このライブラリは以下の環境でテストしています。

+ MinGW 32 GCC 4.8.1
+ MSYS2 MinGW 32 GCC 4.9.2
+ MSYS2 MinGW 64 GCC 4.9.2

----------------------------------------------------------------------
# 外部ライブラリ URLリスト

picoxと同等のライセンス(MIT, BSD, Apache License 2.0, etc)と、OSに依存しない外部
ライブラリは積極的に取り込んでいます。
ビルド可能なソースコードはpicox/external 以下にまとめられています。
各ライブラリの使用方法は、それぞれのライブラリの解説を参照してくださ
い。


+ [Unity][Unity] ユニットテストフレームワーク

+ [minIni][minIni] iniファイル操作

+ [sds][sds] 動的文字列

+ [uthash][uthash] ハッシュコンテナ を中心に各種コンテナ

+ [libfixmath][libfixmath] 16 x 16固定小数点

[Unity]:https://github.com/ThrowTheSwitch/Unity.git
[minIni]:https://github.com/compuphase/minIni.git
[sds]:https://github.com/maskedw/sds.git
[uthash]:https://github.com/troydhanson/uthash.git
[libfixmath]:https://github.com/mhfan/libfixmath.git
