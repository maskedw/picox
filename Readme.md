# これは何？

省メモリの組み込み環境を想定した軽量汎用ライブラリです。

----------------------------------------------------------------------
# 特徴

マイコンプログラム開発ではドライバ操作が大きなウエイトを占めていますが、ありがた
いことに昨今では各ベンダが充実したデバイスドライバを提供してくれていることが多い
です。

その為、このライブラリではCPUや、OSの有無に依存しないが重要で小粒なルーチンを集
めています。

ベンダのライブラリとこのライブラリを組み合わせて、新規CPUでも手早くアプリケー
ションを構築することを目的としています。

想定ターゲットは、RAM 数KByte ~ 数MByte、ROM 数十KByte ~ 数十MByte程度の小規模
なCPUです。

昨今では、Arduino, mbed, Raspberry Pi等、お手軽にプロトタイプを作れる環境が整っ
ていますが、これらのプラットフォームは、ハードウェア依存部分が多く含まれており、
対応していないボードで開発を行う場合、自分で互換部分を実装する必要があり、コミュ
ニティへの貢献が目的でなければ、多くの場合割に合わない労力が強いられるでしょう。

このライブラリは、特定のターゲットを持たず、ハードウェア依存部分を極力抽象化して
抽象化部分のインターフェースも明確に定義しているので、新規プラットフォームへの移
植はこちらの方が簡単なはずです。

Arduino, mbed等が、予め用意された上位レイヤに対してプログラムするのに対し、picox
ではグルーコードを用意して上位レイヤを完成させます。

ハードウェア依存部分を自分で実装する必要があるため、玄人向きと言えますが、実業務
の使用にも耐えうる品質(実際に作者は業務で使用しています)を目指しています。

また、日本語ドキュメントのある低級なライブラリというのは、貴重だと思われるので低
級プログラムに興味のある組込みプログラマ初学者の学習にも最適です。

----------------------------------------------------------------------
# 動作条件

+ 1バイトは8bitであること
+ バイトオーダはビッグ or リトルエンディアンであること
+ 処理系はANSI C99に対応していること
+ CPUは16,32,64bitのいづれかであること

厳密に定義するとややこしいですが、要するに、現行のほぼ全てのCPUとコンパイラ当て
はまると思われます。

※ 8bitCPUでも現行バージョンでは動作可能だと思いますが、今後の開発で明確に動作対
   象外とする可能性があります。

C99のフル機能に対応している必要はありません。可変長配列等のほとんどサポートされ
ていない機能は使用していません。

stdint.h, stdbool.h等のtypedef定義のヘッダのと、可変長引数マクロ、snprintf()等の
一部C99ライブラリ関数を使用しています。

----------------------------------------------------------------------
# 依存ライブラリ

+ 標準Cライブラリ(一部C99の関数を使用)

----------------------------------------------------------------------
# 移植及び使用方法

基本的にはpicox以下のソースコードをまるごとコピーし、インクルードパスを通すだけ
で、簡単にビルドできるはずです。
使用しない外部ライブラリはビルドから除外しておいた方がいいでしょう。

各モジュールの使用方法するために必要な情報は全てヘッダファイルに記述しています。
Doxygenコメントを採用しているので、Doxygenを使用してドキュメントを生成することも
できます。/docにはデフォルトのDoxygen設定ファイル(Doxyfile)を用意しています。に
はデフォルトのDoxygen設定ファイル(Doxyfile)を用意しています。にはデフォルトの
Doxygen設定ファイル(Doxyfile)を用意しています。にはデフォルトのDoxygen設定ファイ
ル(Doxyfile)を用意しています。

----------------------------------------------------------------------
# テスト環境

このライブラリは以下の環境でテストしています。

+ MinGW 32 GCC 4.8.1
+ MSYS2 MinGW 32 GCC 4.9.2
+ MSYS2 MinGW 64 GCC 4.9.2

----------------------------------------------------------------------
# 外部ライブラリ URLリスト

picoxと同等のライセンス(MIT, BSD, Apache License 2.0, etc)で、有用な外部ライブラ
リは積極的に取り込んでおり、一部変更を加えて、picox/external以下にまとめています
。 各ライブラリのライセンスや使用方法は、それぞれのライブラリの解説を参照してく
ださい。


+ [Unity][Unity] ユニットテストフレームワーク

+ [minIni][minIni] iniファイル操作

+ [sds][sds] 動的文字列

+ [uthash][uthash] ハッシュコンテナ を中心に各種コンテナ

+ [libfixmath][libfixmath] 16 x 16固定小数点

[Unity]:https://github.com/ThrowTheSwitch/Unity.git
[minIni]:https://github.com/compuphase/minIni.git
[sds]:https://github.com/maskedw/sds.git
[uthash]:https://github.com/troydhanson/uthash.git
[libfixmath]:https://github.com/mhfan/libfixmath.git


----------------------------------------------------------------------
# リリースノート

## v0.1 2015/07/12
+ プロトタイプ

## v0.2 2016/01/05
+ バグ修正多数
+ 細かな機能追加
+ 独自printf追加
+ 動的文字列クラス追加
+ ストリームクラス追加

## 時期リリース予定
filesystem関係のインターフェースの大幅変更
